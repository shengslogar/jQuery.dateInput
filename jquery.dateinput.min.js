(function(b){var a=0;function c(g,d){g=g.toString();var f=d-g.length;for(var e=0;e<f;e++){g="0"+g}return g}b.fn.dateInput=function(s){var i=b(this);i.addClass("jq-di-h");var p,r,j=0,m=11,d=1,e=31,l=0,n=Infinity;if(i.attr("min")){var v=i.attr("min");p=new Date(v+" 00:00");v=v.split("-");l=Number(v[0]);j=Number(v[1])-1;d=Number(v[2])}if(i.attr("max")){var w=i.attr("max");r=new Date(w+" 00:00");w=w.split("-");n=Number(w[0]);m=Number(w[1])-1;e=Number(w[2])}var y=b("<div>",{"class":"jq-di"+(s?" jq-di--nw":"")});i.after(y);var z=new Date();var o=b("<a>",{"class":"jq-di-l",html:"&lsaquo;"}).click(function(){z.setMonth(z.getMonth()-1);g()});var t=b("<span>",{"class":"jq-di-t",html:"&nbsp;"});var f=b("<a>",{"class":"jq-di-r",html:"&rsaquo;"}).click(function(){z.setMonth(z.getMonth()+1);g()});var A=b("<div>",{"class":"jq-di-w",html:'<span class="jq-di-wknd">Sun</span><span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span class="jq-di-wknd">Sat</span>'});var x=b("<div>",{"class":"jq-di-d"}).on("click","span",function(){var B=b(this);if(B.hasClass("jq-di-d_d")){z.setDate(B.text());g()}});y.append(o).append(t).append(f).append(A).append(x);var k=["January","February","March","April","May","June","July","August","September","October","November"," December"];var h=[31,28,31,30,31,30,31,31,30,31,30,31];function u(){var B=true;if(r&&z.getTime()>r.getTime()){z.setTime(r.getTime());B=false}if(p&&z.getTime()<p.getTime()){z.setTime(p.getTime());B=false}return B}var q;function g(J){if(J){z=new Date(Date.parse(i.val()+" 00:00")||z.getTime())}u();if(s){var M=new Date(z.getTime());if(z.getDay()==0){z.setDate(M.getDate()+1);if(!u()){z.setDate(M.getDate()-2);u()}}else{if(z.getDay()==6){z.setDate(M.getDate()-1);if(!u()){z.setDate(M.getDate()+2);u()}}}}var E=z.getDate();var C=z.getMonth();var K=z.getFullYear();t.html(k[C]+" '"+z.getFullYear().toString().substring(2));var L;var F;(function(){var N=new Date(z);N.setDate(1);F=L=N.getDay()}());if(!q||(q&&(z.getMonth()!=q.getMonth()||z.getYear()!=q.getYear()))){x.html("");for(var H=0;H<L;H++){x.append(b("<span>",{"class":"jq-di-d_p"}))}var B=h[C];if(C==1){if(((K%4==0)&&(K%100!=0))||(K%400==0)){B--}}for(var H=1;H<=B;H++){var G=(K==n&&C==m&&H>e)||(K==l&&C==j&&H<d);var I=(s&&(F==0||F==6));G=G||I;x.append(b("<span>",{"class":"jq-di-d_d"+(H==E?" jq-di-d_d--s":"")+(G?" jq-di-d_d--d":"")+(I?" jq-di-wknd":""),html:H,tabIndex:H+(31*a)+100}));F++;if(F>6){F=0}}}else{x.children(".jq-di-d_d--s").removeClass("jq-di-d_d--s");x.children(".jq-di-d_d").eq(E-1).addClass("jq-di-d_d--s")}var D=K+"-"+c(C+1,2)+"-"+c(E,2);if(i.val()!=D){i.val(D).trigger("change")}q=new Date(z)}i.on("change",function(){g(true)});g(true);a++;return this}}(jQuery));